## 复习题

#### 3.1~3.3节

##### R1. 	假定网络层提供了下列服务.在源主机中的网络层接收最大长度1200字节和来自运输层的目的主机地址的报文段. 网络层则保证将该报文段交付给位于目的主机的运输层. 假定在目的主机上能够运行许多网络应用进程.

###### a. 	设计可能最简单的运输层协议, 该协议将使应用程序数据到达位于目的主机的所希望的进程. 假设在目的主机中的操作系统已经为每个运行的应用进程分配了一个4字节的端口号.

###### b. 	修改这个协议, 使它向目的进程提供一个的"返回地址".

###### c. 	在你的协议中, 该运输层在计算机网络的核心中"必须做任何事"吗?

##### R2.	考虑有一个星球,每个人都属于某个六口之家, 每个家庭都住在自己的房子里, 每个房子都有一个唯一的地址, 并且某给定家庭中的每个人有一个独特的名字. 假定该星球有一个从源家庭到目的家庭交付信件的邮政服务. 该邮件服务要求: 1. 在一个信封中有一封信; 2. 在信封上清楚地写上目的家庭的地址(并且没有别的东西). 假设每个家庭有一名家庭成员代表为家庭中的其他成员收集和分发信件. 这些信件没有必要提供任何有关信的接收者的提示.

###### 	a. 	使用对上面复习题R1的解决方案作为启发, 描述家庭成员代表能够使用的协议, 以从发送家庭成员向接收家庭成员交付信件.
	b. 	在你的协议中, 该邮政服务必须打开信封并检查信件内容才能提供它的服务吗?

##### R3. 	考虑在主机A和主机B之间有一条TCP连接.假设从主机A传送到主机B的TCP报文段具有源端口号x和目的端口号y. 对于从主机B传送到主机A的报文段, 源端口号和目的端口号分别是多少?

##### R4. 	描述应用程序开发者为什么可能选择在UDP上运行程序而不是在TCP上运行的原因.

##### R5. 	在今天的因特网中, 为什么语音和图像流量常常是经过TCP而不是经UDP发送.

##### R6.	 当某应用程序运行在UDP上时, 该应用程序可能得到可靠的数据传输吗? 如果能, 如何实现?

##### R7. 	假定在主机C上的一个进程有一个具有端口号6789的UDP套接字.假定主机A和主机B都用目的端口6789向主机C发送一个UDP报文段. 这两台主机的这些报文段在主机C都被描述为相同的套接字吗? 如果是这样的话, 在主机C的该进程将怎样知道源于两台不同主机的这两个报文段?

##### R8. 	假定在主机C端口80上运行一个Web服务器.假定这个Web服务器使用持续连接, 并且正在接收来自两台不同主机A和B的请求. 被发送的所有请求都通过位于主机C的相同套接字吗? 如果它们通过不同的套接字传递, 这两个套接字都具有端口80吗? 讨论和解释之.

#### 3.4节

##### R9. 	在我们的rdt协议中, 为什么需要引入序号?

##### R10.	 在我们的rdt协议中, 为什么需要引入定时器?

##### R11.	 假定发送方和接收方之间的往返时延是固定的并且为发送方所知. 假设分组能够丢失的话, 在协议rdt3.0中, 一个定时器仍是必需的吗? 试解释之.

##### R12.	 在配套网站上使用Go-Back-N(回退N步)Java小程序.

###### 	a. 	让源发送5个分组, 在这5个分组的任何一个到达目的地之前暂停该动画. 然后毁掉第一个分组并继续该动画. 试描述发生的情况.

###### 	b. 	重复该实验, 只是现在让第一个分组到达目的地并毁掉第一个确认. 再次描述发生的情况.

###### 	c. 	最后尝试发送6个分组. 发生了什么情况?

##### R13. 	重复复习题R12, 但是现在使用Selective Repeat(选择重传)Java小程序. 选择重传和回退N步有很么不同?

#### 3.5节

##### R14. 	是非判断题

###### a. 主机A经过一条TCP连接向主机B发送一个大文件. 假设主机B没有数据发往主机A. 因为主机B不能随数据捎带确认, 所以主机B将不向主机A发送确认.

###### b. 在整个连接的过程中, rwnd的长度决不会变化.

###### c. 假设主机A通过一条TCP连接向主机B发送一个大文件. 主机A发送但未被确认的字节数不会超过接收缓存的大小.

###### d. 假设主机A通过一条TCP连接向主机B发送一个大文件. 如果对于这条连接的一个报文段的序号为m, 则对于后继报文段的序号将必然是m + 1.

###### e. TCP报文段在它的首部中有一个rwnd字段.

###### f. 假定在一条TCP连接中最后的SampleRTT等于1秒, 那么对于该连接的TimeoutInterval的当前值必定大于等于1秒.

###### g. 假设主机A通过一条TCP连接向主机B发送一个序号为38的4个字节的报文段. 在这个相同的报文段中, 确认号必定是42.

##### R15. 	假设主机A通过一条TCP连接向主机B发送两个紧挨着的TCP报文段. 第一个报文段的序号为90, 第二个报文段序号为110.

###### a.	 第一个报文段中有多少数据?

###### b.	 假设第一个报文段丢失而第二个报文段到达主机B. 那么在主机B发往主机A的确认报文中, 确认号应该是多少?

##### R16. 	考虑在3.5节中讨论的Talnet的例子.在用户键入字符C数秒之后, 用户又键入字符R. 那么在用户键入字符R之后, 总共发送了多少个报文段, 这些报文段中的序号和确认字段应该填入什么?

#### 3.7节

##### R17. 	假设两条TCP连接存在于一个宽带为R bps的瓶颈链路上.它们都要发送一个很大的文件(以相同方向经过瓶颈链路), 并且两者是同时开始发送文件. 那么TCP将为每条连接分配什么样的传输速率?

##### R18.	 是非判断题. 考虑TCP的拥塞控制. 当发送方定时器超时时, 其ssthresh的值将被设置为原来值的一半.

##### R19.	 在3.7节的"TCP分岔"讨论中, 对于TCP分岔的响应时间, 断言大约是4 * RTT(FE) + RTT(BE) + 处理时间. 评价该断言.

 